<% css_classes_input = "peer w-6 h-6 text-indigo-600 bg-gray-100 border-gray-300 rounded focus:ring-indigo-500 dark:focus:ring-indigo-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600 hover:cursor-pointer checked:bg-indigo-600 checked:border-indigo-600 checked:ring-indigo-600" %>
<% css_classes_label = "w-full flex justify-center items-center gap-12 py-2 text-indigo-600 dark:text-gray-300 hover:bg-indigo-300 hover:cursor-pointer transition-colors duration-200" %>

<label for="group-<%= target %>-<%= flag %>"
      data-action="change->rails-command#updateCheckboxesBasedOnPreset"
      class="<%= css_classes_label%> relative px-8 hover:cursor-pointer peer-checked:bg-indigo-700 peer-checked:text-indigo-400ss">
  <input  id="group-<%= target %>-<%= flag %>"
          type="<%= type %>"
          value="<%= flag %>"
          name="<%= target %>"
          data-action="change->rails-command#updateOutput"
          data-rails-command-target="<%= target %>" 
          class="<%= css_classes_input %>"
          <%= "checked" if checked %> />

  <div class="w-full relative group flex flex-col justify-center items-start gap-2 peer-checked:text-indigo-400">
    <div class="text-xl font-semibold py-3 group-hover:text-indigo-400 peer-checked:text-indigo-100 transition-colors duration-200">
      <%= t(".flag_command.#{flag.underscore}.title") %>
    </div>
    <div class="text-slate-200 dark:text-gray-300 group-hover:text-indigo-300 peer-checked:text-indigo-500 transition-colors duration-200">
      <%= t(".flag_command.#{flag.underscore}.description") %>
    </div>

    <div class="absolute -top-4 -right-24 w-content z-10 opacity-0 invisible group-hover:opacity-100 group-hover:visible bg-indigo-700 text-white p-2 rounded-md shadow-md mt-1 transition-opacity duration-500 ease-in-out shadow-indigo-400/40">
      <pre class="whitespace-pre-wrap break-words"><%= t(".flag_command.#{flag.underscore}.action") %></pre>
    </div>

  </div>

  <% if icon.present? %>
    <figure class="flex justify-center items-center p-2 bg-slate-100 rounded-full group-hover:bg-indigo-100 peer-checked:bg-indigo-300 transition-colors duration-200">
      <%= inline_svg_tag("icons/brands/#{icon}.svg", class: 'size-8 group-hover:fill-indigo-100 peer-checked:fill-indigo-100 transition-colors duration-200') %>
    </figure>
  <% end %>
</label>
